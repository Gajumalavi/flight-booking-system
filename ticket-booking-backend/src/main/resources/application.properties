spring.application.name=ticket-booking-backend

# ===============================
# Database Configuration (PostgreSQL)
# ===============================
spring.datasource.url=jdbc:postgresql://localhost:5432/ticket_booking
spring.datasource.username=postgres
spring.datasource.password=rootroot

# ===============================
# Hibernate Configuration
# ===============================
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# CORS Configuration
spring.mvc.cors.allowed-origins=http://localhost:3000
spring.mvc.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.mvc.cors.allowed-headers=*
spring.mvc.cors.allow-credentials=true

# Logging for debugging
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.web=DEBUG
logging.level.com.example.ticket_booking_backend=DEBUG

# Server error handling
server.error.include-message=always
server.error.include-binding-errors=always
server.error.include-stacktrace=never

# ===============================
# Server Configuration
# ===============================
server.port=8080

# ===============================
# Application Configuration
# ===============================
# Seat hold timeout in minutes (default is 5 if not specified)
app.seat.hold.timeout=3

# Booking payment timeout in minutes (how long before a pending booking is auto-canceled)
app.booking.payment.timeout=30

# ===============================
# Amadeus API Configuration
# ===============================
amadeus.api.key=LR5jqXyQf22xB3cOqtvLqPKCQ1YgFJ9H
amadeus.api.secret=vyeJQ99hs4BdvIXF
amadeus.api.base-url=https://test.api.amadeus.com
amadeus.api.token-url=/v1/security/oauth2/token
amadeus.api.flight-search-url=/v2/shopping/flight-offers

# Feature flag to control API/Database mode (true=use API, false=use Database)
app.features.use-api=true

# API quota management
app.api.max-calls-per-month=2000
app.api.calls-this-month=0

# ===============================
# Email Configuration (SendGrid)
# ===============================
# Using SendGrid Web API for reliable email delivery (100 emails/day free)
# Set your SendGrid API key below
sendgrid.api.key=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

# Email service configuration
app.email.from=sky_bookings@outlook.com
app.email.enable=true
app.email.booking-confirmation.subject=Your Booking Confirmation - %s
app.email.booking-cancellation.subject=Your Booking Has Been Cancelled - %s
app.email.support-email=sky_bookings@outlook.com

# Configure async executor for email sending
spring.task.execution.pool.core-size=5
spring.task.execution.pool.max-size=10
spring.task.execution.pool.queue-capacity=25
spring.task.execution.thread-name-prefix=email-async-

# ===============================
# Razorpay Payment Configuration
# ===============================
# Test API keys - replace with your actual test keys from Razorpay dashboard
razorpay.api.key.id=rzp_test_FsUyP83S9XfJMG
razorpay.api.key.secret=eHoDWet3DlMeL5oicNzWjGOz

# Configure success and cancel URLs (replace with actual frontend URLs)
razorpay.success.url=http://localhost:3000/payment/success
razorpay.cancel.url=http://localhost:3000/payment/cancel